<!DOCTYPE html>
<html lang="en">
<head>
    <!--DEV-ONLY-NOT-LOADED-DURING-RUNTIME-->
    <link href="../common/style/bootstrap.css" rel="stylesheet">
    <link href="../common/style/style.css" rel="stylesheet">
    <!--[onshow;block=head;when [visible.foo] == bar;comm]-->
    <!--DEV-ONLY-NOT-LOADED-DURING-RUNTIME-->
</head>
<!--HEAD - ONLOAD-->
<!--[onload;file=../common/common.head.html;getbody;comm]-->
<!--HEAD - ONLOAD-->
<body>
<!--JS SECTION - ONLOAD-->
<!--[onload;file=../common/common.javascript.html;getbody;comm]-->
<!--JS SECTION - ONLOAD-->
<!--DEBUG SECTION - ONLOAD-->
<!--[onload;file=../common/include.debug.html;getbody;comm]-->
<!--DEBUG SECTION - ONLOAD-->
<!--HEADER SECTION - ONLOAD-->
<!--[onload;file=common.header.html;getbody;comm]-->
<!--HEADER SECTION - ONLOAD-->
<!-- Main content starts -->
<div class="content">
    <!-- Sidebar -->
    <div class="sidebar">
        <!--SIDE MENU - ONLOAD -->
        <!--[onload;file=common.menu.html;getbody;comm]-->
        <!--SIDE MENU - ONLOAD -->
    </div>
    <!-- Sidebar ends -->
    <!-- Main bar -->
    <div class="mainbar">
        <!----------------------COMMON PAGE HEADING--------------------------------->
        <!--[onload;file=common.heading.html;getbody;comm]-->
        <!----------------------COMMON PAGE HEADING--------------------------------->
        <!-- Page heading ends -->
        <!-- Matter -->
        <div class="matter">
            <!--WI_TITLE_BAR-->
            <div class="widget titlebar-widget">
                <!--[onshow;block=div;when [visible.wi_title_bar] == 1;comm]-->
                <div class="titlebar">
                    <h3>[vars.projects_page_title;noerr]</h3>
                </div>
            </div>
            <!--WI_TITLE_BAR-->
            <!--WI_PROJECTS_SEARCH-->
            <div class="navbar navbar-default" role="navigation">
                <!--[onshow;block=div;when [visible.wi_projects_search] == 1;comm]-->
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse"
                                data-target="#bs-example-navbar-collapse-1"><span class="sr-only">[lang.lang_toggle_navigation]</span>
                            <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
                        </button>
                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <form class="navbar-form navbar-left form-small"
                              action="[conf.site_url]/admin/projects/search-projects" method="post">
                            <div class="form-group">
                                <input type="text" class="form-control" name="projects_id"
                                       placeholder="[lang.lang_project_id]">
                            </div>
                            <div class="form-group">
                                <!--select2.js pulldown-->
                                <select id="projects-list" name="services_id"
                                        data-placeholder="[lang.lang_service_name]">
                                    <option></option>
                                    <!--[lists.all_services;noerr;htmlconv=no;protect=no;comm]-->
                                </select>
                            </div>
                            <div class="form-group">
                                <!--select2.js pulldown-->
                                <select id="clients-list" name="clients_company_name"
                                        data-placeholder="[lang.lang_client_company_name]">
                                    <option></option>
                                    <!--[lists.all_clients;noerr;htmlconv=no;protect=no;comm]-->
                                </select>
                            </div>
                            <div class="form-group">
                                <!--select2.js pulldown-->
                                <select id="projects-status" name="projects_status"
                                        data-placeholder="[lang.lang_status]">
                                    <option></option>
                                    <option value="all">[lang.lang_all]</option>
                                    <option value="in progress">[lang.lang_in_progress]</option>
                                    <option value="behind schedule">[lang.lang_behind_schedule]</option>
                                    <option value="completed">[lang.lang_completed]</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">Search Projects</button>
                            </div>
                            <div class="form-group"><a href="[conf.site_url]/admin/projects/new-project"
                                                       class="btn btn-success"><i class="icon-plus"></i>
                                [lang.lang_add_new_project]</a></div>
                        </form>
                    </div>
                    <!-- /.navbar-collapse -->
                </div>
                <!-- /.container-fluid -->
            </div>
            <!--WI_PROJECTS_SEARCH END-->
            <div class="container">
                <!----------------------COMMON NOTICES--------------------------------->
                <!--[onload;file=../common/common.notices.html;getbody;comm]-->
                <!----------------------COMMON NOTICES--------------------------------->
                <!--WI_PROJECTS_TABLE-->
                <div class="row fullscreen-mode">
                    <!--[onshow;block=div;when [visible.wi_projects_table] == 1;comm]-->
                    <div class="col-md-12">
                        <div class="widget">
                            <div class="widget-content">
                                <table class="footable table table-bordered table-hover">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>
                                            <a href="[vars.sortby_projectservice;noerr]">[lang.lang_service]
                                                <i class="icon-sort bns-padded-left"></i>
                                            </a>
                                        </th>
                                        <th data-hide="phone">
                                            <a href="[vars.sortby_companyname;noerr]">[lang.lang_client_name]
                                                <i class="icon-sort bns-padded-left"></i>
                                            </a>
                                        </th>
                                        <th>
                                            <a href="[vars.sortby_startdate;noerr]">[lang.lang_start_date]
                                                <i class="icon-sort bns-padded-left"></i>
                                            </a>
                                        </th>
                                        <th data-hide="phone"><a href="[vars.sortby_projects;noerr]">
                                            [lang.lang_progress]<i class="icon-sort bns-padded-left"></i></a></th>
                                        <th data-hide="phone">[lang.lang_time_spent]</th>
                                        <th>[lang.lang_status]</th>
                                        <th style="width:25px; text-align:center; font-size:14px;"><i
                                                class="icon-reorder"></i></th>
                                    </tr>
                                    </thead>
                                    <tbody class="">
                                    <tr class="tr-link"
                                        data-link="[conf.site_url]/admin/project/[blk1.projects_id;block=tr;noerr]/view">
                                        <td><!--[blk1.index;block=tr;comm]--></td>
                                        <td>
                                            <span class="label label-success">
                                                <!--[blk1.services_name;block=tr;comm;ope=max:20;onformat=runtime_check_blank]-->
                                            </span>
                                        </td>
                                        <td>
                                            <span class="label label-purple">
                                                <!--[blk1.clients_company_name;block=tr;comm;ope=max:20]-->
                                            </span>
                                        </td>
                                        <td>
                                            <!--[blk1.projects_start;block=tr;comm;onformat=runtime_check_blank]--></td>
                                        <td class="progress-bar-td"><!--progress bar-->
                                            <div class="progress active progress-table">
                                                <div class="progress-bar progress-bar-primary progress-bar-table"
                                                     style="width:[blk1.projects_progress_percentage;block=tr;onformat=runtime_number]%"
                                                     aria-valuemax="100" aria-valuemin="0" aria-valuenow="100"
                                                     role="progressbar"><span class="progress-text">
                            <!--[blk1.projects_progress_percentage;block=tr;onformat=runtime_number;comm]-->
                            %</span></div>
                                            </div>
                                            <!--progress bar-->
                                        </td>
                                        <td><span class="label label-info">
                        <!--[blk1.timer;block=tr;comm;onformat=runtime_timer]-->
                        </span></td>
                                        <td>
                                            <!--[blk1.projects_status;block=tr;comm;onformat=runtime_status_colors;htmlconv=no]--></td>
                                        <td class="tr-link-excluded"><!--control buttons delete-->
                                            <button class="btn btn-xs btn-danger ajax-delete-record"
                                                    data-popconfirm-yes="[lang.lang_yes;noerr]"
                                                    data-popconfirm-no="[lang.lang_no;noerr]"
                                                    data-popconfirm-title="[lang.lang_confirm_delete_project;noerr]"
                                                    data-popconfirm-placement="left"
                                                    data-mysql-record-id="[blk1.projects_id;block=tr]"
                                                    data-ajax-url="[conf.site_url]/admin/ajax/delete-project"><i
                                                    class="icon-trash"></i></button>
                                            <!--control buttons delete - end -->
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="widget-foot">
                                    <!--WI_SORTING_INFO-->
                                    <div class="bns-info-div pull-left" style="max-width:300px;"></div>
                                    <!--WI_SORTING_INFO-->
                                    <!--WI_PAGINATION-->
                                    <ul class="pagination pull-right">
                                        [vars.pagination;noerr;htmlconv=no]
                                    </ul>
                                    <!--WI_PAGINATION-->
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--WI_PROJECTS_TABLE-->
                <!--WI_ADD_NEW_PROJECT-->
                <div class="row">
                    <!--[onshow;block=div;when [visible.wi_add_project_form] == 1;comm]-->
                    <div class="col-md-12">
                        <form class="form-horizontal" action="[conf.site_url]/admin/projects/add-project" method="post"
                              id="addNewProject">
                            <div class="box">
                                <div class="box-content">
                                    <table class="table table-bordered table-forms">
                                        <tbody>
                                        <tr>
                                            <td>[lang.lang_client]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <div class="col-sm-12 col-md-8 no-padding-both">
                                                        <select name="projects_clients_id" id="projects_clients_id">
                                                            <!--[lists.all_clients;noerr;htmlconv=no;protect=no;comm]-->
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>[lang.lang_service]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <div class="col-sm-12 col-md-8 no-padding-both">
                                                        <select name="projects_service" id="projects_service">
                                                            <!--[lists.services;noerr;htmlconv=no;protect=no;comm]-->
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <!--<tr>
                                          <td>[lang.lang_project_title]</td>
                                          <td><div class="col-sm-12 col-md-8 no-padding-both">
                                              <input type="text" class="form-control" id="projects_title" name="projects_title" value="[post.projects_title;noerr]" autocomplete="off">
                                            </div></td>
                                        </tr>-->
                                        <tr>
                                            <td>[lang.lang_project_start]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control pickadate" id="project_start"
                                                           name="projects_start" value="[post.project_start;noerr]"
                                                           autocomplete="off" placeholder="[lang.lang_project_start]">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>[lang.lang_project_end]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control pickadate" id="project_end"
                                                           name="projects_end" value="[post.project_end;noerr]"
                                                           autocomplete="off" placeholder="[lang.lang_project_end]">
                                                </div>
                                            </td>
                                        </tr>
                                        <!--<tr>
                                          <td>[lang.lang_project_deadline]</td>
                                          <td><div class="col-sm-12 col-md-8 no-padding-both">
                                              <input type="text" class="form-control pickadate" id="project_deadline" name="project_deadline" value="[post.project_deadline;noerr]" autocomplete="off">
                                            </div></td>
                                        </tr>-->
                                        <tr>
                                            <td style="vertical-align: top !important;">[lang.lang_description]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 col-lg-12 no-padding-both">
                                        <textarea name="projects_description" id="projects_description">
                                      [post.projects_description;noerr;htmlconv=no]</textarea>
                                                    <script>
                                                        document.addEventListener('DOMContentLoaded', function () {
                                                            CKEDITOR.replace('projects_description', {
                                                                toolbar: 'Basic',
                                                                uiColor: '#ffffff',
                                                                height: '300px'
                                                            });
                                                        });

                                                    </script>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="optional-field">
                                            <!--[onshow;block=tr;when [visible.wi_projects_optionalfield1] == 1;comm]-->
                                            <td> [row.wi_projects_optionalfield1]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control" id="projects_optionalfield1"
                                                           name="projects_optionalfield1"
                                                           value="[post.projects_optionalfield1;noerr]"
                                                           autocomplete="off">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="optional-field">
                                            <!--[onshow;block=tr;when [visible.wi_projects_optionalfield2] == 1;comm]-->
                                            <td> [row.wi_projects_optionalfield2]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control" id="projects_optionalfield2"
                                                           name="projects_optionalfield2"
                                                           value="[post.projects_optionalfield2;noerr]"
                                                           autocomplete="off">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="optional-field">
                                            <!--[onshow;block=tr;when [visible.wi_projects_optionalfield3] == 1;comm]-->
                                            <td> [row.wi_projects_optionalfield3]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control" id="projects_optionalfield3"
                                                           name="projects_optionalfield3"
                                                           value="[post.projects_optionalfield3;noerr]"
                                                           autocomplete="off">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="optional-field">
                                            <!--[onshow;block=tr;when [visible.wi_projects_optionalfield4] == 1;comm]-->
                                            <td> [row.wi_projects_optionalfield4]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control" id="projects_optionalfield4"
                                                           name="projects_optionalfield4"
                                                           value="[post.projects_optionalfield4;noerr]"
                                                           autocomplete="off">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="optional-field">
                                            <!--[onshow;block=tr;when [visible.wi_projects_optionalfield5] == 1;comm]-->
                                            <td> [row.wi_projects_optionalfield5]</td>
                                            <td>
                                                <div class="col-sm-12 col-md-8 no-padding-both">
                                                    <input type="text" class="form-control" id="projects_optionalfield5"
                                                           name="projects_optionalfield5"
                                                           value="[post.projects_optionalfield5;noerr]"
                                                           autocomplete="off">
                                                </div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="box-footer">
                                    <div class="bns-info-div pull-right">
                                        <!--control submit form button-->
                                        <input class="btn btn-primary" type="submit" value="[lang.lang_add_new_project]"
                                               id="" name="submit">
                                        <!--control submit form button-->
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!--WI_ADD_NEW_PROJECT-->
                <!--WI_NOTIFICATION-->
                <div class="row">
                    <!--[onshow;block=div;when [visible.wi_notification] == 1;comm]-->
                    <div class="col-md-12">
                        <div class="widget">
                            <div class="widget-content widget-big-box">[vars.notification;noerr]</div>
                        </div>
                    </div>
                </div>
                <!--WI_NOTIFICATION-->
            </div>
        </div>
        <!-- Matter ends -->
    </div>
    <!-- Mainbar ends -->
    <div class="clearfix"></div>
</div>
<!-- Content ends -->
<!----------------------COMMON FOOTER--------------------------------->
<!--[onload;file=../common/common.footer.html;getbody;comm]-->
<!----------------------COMMON FOOTER--------------------------------->
<!-- Scroll to top -->
<span class="totop"><a href="#"><i class="icon-chevron-up"></i></a></span>
<!--WI_IFRAME_MODAL-->
<div class="row">
    <div id="modalIframe" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                    <!--full screen icon - custom.js-->
                    <button type="button" class="full-screen-modal close" aria-hidden="true"><i
                            class="icon-fullscreen"></i></button>
                    <!--full screen icon - custom.js-->
                    <h4 class="modal-title" id="modal-iframe-title"> [lang.lang_edit]</h4>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-body">
                    <iframe frameborder="0" class="slimScrollBarModal----"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" aria-hidden="true">
                        [lang.lang_close]
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--WI_IFRAME_MODAL-->
<!--JS_WI_PROJECTS_SEARCH-->
<script type="text/javascript">
    $(function () {
        $("#projects-list").select2({
            allowClear: true
        });
        $("#clients-list,#projects_service").select2({
            allowClear: true
        });
        $("#projects_clients_id").select2({
            allowClear: true
        });
        $("#projects-status").select2({
            allowClear: true
        });
    });
</script>
<!--JS_WI_PROJECTS_SEARCH-->
<!--JS_WI_ADD_PROJECT_VALIDATION-->
<script type="text/javascript">
    $(function () {
        $('#projects_service').change(function () {
            $.ajax({
                url: '[conf.site_url]/admin/services/load-fields/' + $(this).val(),
                type: 'GET',
                dataType: 'json',
                success: function (res) {
                    if (res.code == 200) {
                        var fields = res.data;
                        var target = $("tr.optional-field");
                        if (target.length > fields.length) {
                            for (var j = target.length - fields.length; j <= fields.length; j++) {
                                target.eq(j - 1).remove();
                            }
                        }
                        target = $('tr.optional-field');
                        var i = 0;
                        for (var key in fields) {
                            if ((i + 1) > target.length) {
                                target.eq(target.length - 1).after('<tr class="optional-field"><td>' + fields[key].projects_optionalfield_title + '</td><td><div class="col-sm-12 col-md-8 no-padding-both"><input type="text" autocomplete="off" value="" name="' + (fields[key].projects_optionalfield_name) + '" class="form-control"' + (fields[key].projects_optionalfield_require == 'yes' ? 'required' : '') + '></div></td></tr>');
                                target = $('tr.optional-field');
                            } else {
                                target.eq(key).children('td').eq(0).html(fields[key].projects_optionalfield_title);
                                target.eq(key).children('td').eq(1).find('input').attr('name', fields[key].projects_optionalfield_name);
                                if (fields[key].projects_optionalfield_require == 'yes') {
                                    target.find('input').attr('required', 'required');
                                }
                            }
                            ++i;
                        }
                    }
                }
            });
        });
        $('#projects_service').trigger('change');
    })
</script>
<!--JS_WI_ADD_PROJECT_VALIDATION-->
<!--------------------COMMON FOOTER JAVASCRIPT---------------------------->
<!--[onload;file=../common/common.footer.javascript.html;getbody;comm]-->
<!--------------------COMMON FOOTER JAVASCRIPT---------------------------->
</body>
</html>
